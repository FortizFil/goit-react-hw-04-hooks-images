(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),o=c(8),r=c.n(o),i=(c(14),c(7)),s=c(3),l=c(0),u=function(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(s.a)(c,2),o=a[0],r=a[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()&&(t(o),r(""))},className:"SearchForm",children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{className:"SearchForm-input",type:"text",placeholder:"Search images and photos",value:o,onChange:function(e){r(e.currentTarget.value.toLowerCase())}})]})})},j=function(e){var t=e.name,c=e.photoUrl,n=e.largeImageURL,a=e.onClick;return Object(l.jsx)("li",{className:"ImageGalleryItem",onClick:function(){a(n)},children:Object(l.jsx)("img",{src:c,alt:t,className:"ImageGalleryItem-image"})})},b=function(e){var t=e.photos,c=e.onSelect;return Object(l.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(l.jsx)(j,{name:e.id,photoUrl:e.webformatURL,largeImageURL:e.largeImageURL,onClick:function(){return c(e.largeImageURL)}},e.webformatURL)}))})},h=function(e){var t=e.onClickLoadMore;return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),Object(l.jsx)("button",{type:"button",className:"Button",onClick:t,children:Object(l.jsx)("span",{children:"Load More"})})};var m={fetchPhoto:function(e,t){return fetch("".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("22670946-2b796d5e22242051989a80e4c","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}))}},d=c(9),O=c.n(d),f=function(){return Object(l.jsx)("div",{className:"Overlay",children:Object(l.jsx)(O.a,{type:"Puff",color:"#00BFFF",height:100,width:100})})},g=function(e){var t=e.largeImageURL,c=e.onClose,a=Object(n.useCallback)((function(e){"Escape"===e.code&&c()}),[c]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}),[a]),Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&c()},children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{src:t,alt:""})})})},p=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)([]),r=Object(s.a)(o,2),j=r[0],d=r[1],O=Object(n.useState)(1),p=Object(s.a)(O,2),x=p[0],v=p[1],S=Object(n.useState)("idle"),w=Object(s.a)(S,2),k=w[0],y=w[1],L=Object(n.useState)(!1),C=Object(s.a)(L,2),I=C[0],N=C[1],U=Object(n.useState)(null),F=Object(s.a)(U,2),R=F[0],E=F[1];return Object(n.useEffect)((function(){"load"===k&&m.fetchPhoto(c,x).then((function(e){if(0===e.hits.length&&1===x)return y("idle"),void N(!1);d((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),y("idle"),N(!0)}))}),[c,x,k]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u,{onSubmit:function(e){a(e),v(1),y("load"),d([])}}),Object(l.jsx)(b,{photos:j,onSelect:function(e){E(e)}}),"load"===k&&Object(l.jsx)(f,{}),I&&Object(l.jsx)(h,{onClickLoadMore:function(){v(x+1),y("load")}}),R&&Object(l.jsx)(g,{largeImageURL:R,onClose:function(){E(null)}})]})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.0ad2abb2.chunk.js.map